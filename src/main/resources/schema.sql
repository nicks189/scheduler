CREATE TABLE EVENT(
  EVENT_ID BIGINT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  NAME VARCHAR(32) NOT NULL,
  INFO VARCHAR(255),
  EVENT_DATETIME DATETIME NOT NULL,
  USER_ID BIGINT NOT NULL
);

CREATE TABLE USER(
  USER_ID BIGINT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  FIRST_NAME VARCHAR(255),
  LAST_NAME VARCHAR(255),
  EMAIL VARCHAR(255) NOT NULL,
  PASSWORD VARCHAR(64) NOT NULL
);

CREATE TABLE ROLE(
  ROLE_ID BIGINT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  ROLE VARCHAR(255) DEFAULT NULL
);

CREATE TABLE USER_ROLE(
  USER_ID BIGINT NOT NULL,
  ROLE_ID BIGINT NOT NULL,
  PRIMARY KEY (USER_ID, ROLE_ID),
  KEY FKa68196081fvovjhkek5m97n3y (ROLE_ID),
  CONSTRAINT FK859n2jvi8ivhui0rl0esws6o FOREIGN KEY (USER_ID) REFERENCES USER (USER_ID),
  CONSTRAINT FKa68196081fvovjhkek5m97n3y FOREIGN KEY (ROLE_ID) REFERENCES ROLE (ROLE_ID)
);

ALTER TABLE EVENT ADD FOREIGN KEY (USER_ID) REFERENCES USER (USER_ID);
CREATE INDEX IDX_EVENT_DATETIME_ ON EVENT (EVENT_DATETIME);
